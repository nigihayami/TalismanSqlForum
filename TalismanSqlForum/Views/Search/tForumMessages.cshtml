@model IEnumerable<TalismanSqlForum.Models.Forum.tForumMessages>
<div class="listview-outlook">
    @foreach (var item in Model)
    {
        <a class="list" href="@Url.Action("Index", "ForumMessages", new {id = item.tForumThemes.Id, id_fl = item.tForumThemes.tForumList.Id })">
            <div class="list-content">
                <h4 class="list-group-item-heading">
                    @item.tForumThemes.tForumThemes_name
                </h4>
                <style>
                    .search 
                    {
                        background-color:yellow;
                    }
                </style>
                <p class="list-group-item-text">                   
                    @if ((string)ViewData["val"] != "")
                    {
                        @Html.Raw(item.tForumMessages_messages.Replace((string)ViewData["val"], "<em class =\"search\">" + (string)ViewData["val"] + "</em>"));
                    }
                    else
                    {
                        @Html.Raw(item.tForumMessages_messages);
                    }
                </p>
            </div>
        </a>
    }
</div>
